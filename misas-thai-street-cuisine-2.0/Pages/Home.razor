@page "/"
@using Blazorise
@using Blazorise.Components
@using Blazorise.Icons.FontAwesome

<div class="homepage-hero">
    <div class="hero-left">
        <h1 class="hero-title">The<br />Weeknight<br />Bite</h1>
        <p class="hero-subtitle">
            From Our Grill to Your Table.<br />
            Authentic Thai Flavor, Fresh Every Time.
        </p>
        <button class="order-now-btn" @onclick="ScrollToMenuInfo">ORDER NOW</button>
    </div>
    <div class="hero-right">
        <div class="carousel-container">
            <Carousel Crossfade="true" class="carousel" Interval="5000" ShowIndicators="false" ShowControls="true">
                @foreach (var image in CarouselImages)
                {
                    <CarouselSlide Name="@image" key="@image">
                        <img src="@image" alt="Featured Thai Food" class="carousel-img" Display="Display.Block"/>
                    </CarouselSlide>
                }
            </Carousel>
        </div>
    </div>
</div>

<div id="menu-info" class="menu-info-section">
    <h2>Menu Highlights</h2>
    <p>Explore our signature platters, sausages, and more below!</p>
</div>

@code {
    [Inject] private IJSRuntime JS { get; set; } = default!;

    private List<string> CarouselImages = new()
    {
        "/Resources/Images/HomepageCarousel/ms-platter.png",
        "/Resources/Images/HomepageCarousel/ms-platter-2.png",
        "/Resources/Images/HomepageCarousel/chicken-platter.png",
        "/Resources/Images/HomepageCarousel/sausage-combo.png"
    };

    protected override async Task OnInitializedAsync()
    {
        foreach (var image in CarouselImages)
        {
            await JS.InvokeVoidAsync("preloadImage", image);
        }
    }

    private async Task ScrollToMenuInfo()
    {
        await JS.InvokeVoidAsync("document.getElementById('menu-info').scrollIntoView", true);
    }
}

