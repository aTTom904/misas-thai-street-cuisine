@page "/"
@using Blazorise
@using Blazorise.Components
@using Blazorise.Icons.FontAwesome

@using misas_thai_street_cuisine_2._0.Components

<div class="homepage-hero">
    <div class="hero-left">
        <h1 class="hero-title">The<br />Weeknight<br />Bite</h1>
        <p class="hero-subtitle">
            From Our Grill to Your Table.<br />
            Authentic Thai Flavor, Fresh Every Time.
        </p>
        <button class="order-now-btn" @onclick="ScrollToMenuInfo">ORDER NOW</button>
    </div>
    <div class="hero-right">
        <div class="carousel-container">
            <Carousel Crossfade="true">
                @foreach (var image in CarouselImages)
                {
                    <CarouselSlide Name="@image" key="@image">
                        <img src="@image" alt="Featured Thai Food" class="carousel-img"/>
                    </CarouselSlide>
                }
            </Carousel>
        </div>
    </div>
</div>

<div class="how-it-works-section">
    <h2 class="how-it-works-title">How it Works</h2>
    <div class="how-it-works-steps">
        <div class="step">
            <div class="step-icon">
                <Blazorise.Icons.FontAwesome.Icon Name="FontAwesomeIcons.ShoppingBasket" IconSize="IconSize.x3" />
            </div>
            <h3 class="step-title">Place Your Order</h3>
            <p class="step-description">Select your dinner platter and order online by the cutoff date.</p>
        </div>
        <div class="step">
            <div class="step-icon">
                <Blazorise.Icons.FontAwesome.Icon Name="FontAwesomeIcons.FireBurner" IconSize="IconSize.x3" />
            </div>
            <h3 class="step-title">We Cook Fresh</h3>
            <p class="step-description">Our kitchen preps and cooks your meal from scratch on delivery day.</p>
        </div>
        <div class="step">
            <div class="step-icon">
                <Blazorise.Icons.FontAwesome.Icon Name="FontAwesomeIcons.HouseChimney" IconSize="IconSize.x3" />
            </div>
            <h3 class="step-title">Delivered to Your Door</h3>
            <p class="step-description">Meals arrive hot in a corrugated box, family-style, with everything you need.</p>
        </div>
    </div>
</div>

<DeliveryArea />

<div id="menu-info">
    <MenuInfo />
</div>

@code {
    [Inject] private IJSRuntime JS { get; set; } = default!;

    private List<string> CarouselImages = new()
    {
        "/Resources/Images/HomepageCarousel/ms-platter.png",
        "/Resources/Images/HomepageCarousel/ms-platter-2.png",
        "/Resources/Images/HomepageCarousel/chicken-platter.png",
        "/Resources/Images/HomepageCarousel/sausage-combo.png"
    };

    protected override async Task OnInitializedAsync()
    {
        foreach (var image in CarouselImages)
        {
            await JS.InvokeVoidAsync("preloadImage", image);
        }
    }

    private async Task ScrollToMenuInfo()
    {
        await JS.InvokeVoidAsync("scrollToMenuInfo");
    }
}

