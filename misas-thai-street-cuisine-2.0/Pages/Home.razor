@page "/"
@using Blazorise
@using Blazorise.Bootstrap
@using Blazorise.Icons.FontAwesome


<div class="homepage-hero">
    <div class="hero-left">
        <h1 class="hero-title">The<br />Weeknight<br />Bite</h1>
        <p class="hero-subtitle">
            From Our Grill to Your Table.<br />
            Authentic Thai Flavor, Fresh Every Time.
        </p>
        <button class="order-now-btn" @onclick="ScrollToMenuInfo">ORDER NOW</button>
    </div>
    <div class="hero-right">
        <div class="carousel-circle">
            <img src="@CurrentImage" alt="Featured Thai Food" class="carousel-img" />
        </div>
        <button class="carousel-nav prev" @onclick="PrevSlide">&#10094;</button>
        <button class="carousel-nav next" @onclick="NextSlide">&#10095;</button>
    </div>
</div>


<div id="menu-info" class="menu-info-section">
    <h2>Menu Highlights</h2>
    <p>Explore our signature platters, sausages, and more below!</p>
</div>

@code {
    [Inject] private IJSRuntime JS { get; set; } = default!;

    private List<string> CarouselImages = new();
    private int currentIndex = 0;
    private string CurrentImage => CarouselImages.Count > 0 ? CarouselImages[currentIndex] : "";

    // Placeholder for countdown text, replace with your actual timer logic if needed
    private string CountdownText => "0 day, 01 h 31 m 16 s";

    protected override void OnInitialized()
    {
        CarouselImages = new List<string>
        {
            "/Resources/Images/HomepageCarousel/chicken-platter.png",
            "/Resources/Images/HomepageCarousel/ms-platter.png",
            "/Resources/Images/HomepageCarousel/ms-platter-2.png",
            "/Resources/Images/HomepageCarousel/sausage-combo.png"
        };
    }

    private void PrevSlide()
    {
        if (CarouselImages.Count == 0) return;
        currentIndex = (currentIndex - 1 + CarouselImages.Count) % CarouselImages.Count;
    }

    private void NextSlide()
    {
        if (CarouselImages.Count == 0) return;
        currentIndex = (currentIndex + 1) % CarouselImages.Count;
    }

    private async Task ScrollToMenuInfo()
    {
        await JS.InvokeVoidAsync("document.getElementById('menu-info').scrollIntoView", true);
    }
}
